{
  "defaults": {
    "baseUrl": "https://jsonplaceholder.typicode.com",
    "timeout": 2,
    "validations": [
      {
        "status": 200
      }
    ]
  },
  "steps": [
    {
      "id": "check-health",
      "name": "Check API health",
      "method": "GET",
      "url": "/posts/1",
      "timeout": 1,
      "validations": [
        {
          "jsonpath": ".id",
          "exists": true
        }
      ]
    },
    {
      "id": "fetch-user",
      "name": "Fetch user details",
      "method": "GET",
      "url": "/users/{{ .responses[0].userId }}",
      "validations": [
        {
          "jsonpath": ".id",
          "exists": true
        }
      ]
    },
    {
      "id": "get-todos",
      "name": "Get user's todos (only if user exists)",
      "method": "GET",
      "url": "/users/{{ .responses[1].id }}/todos",
      "condition": {
        "response": 1,
        "field": ".id",
        "exists": true
      }
    },
    {
      "id": "get-albums",
      "name": "Get user's albums",
      "method": "GET",
      "url": "/users/{{ .responses[1].id }}/albums",
      "condition": {
        "response": 1,
        "statusCode": 200
      }
    }
  ]
}
